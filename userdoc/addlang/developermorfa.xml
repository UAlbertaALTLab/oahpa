<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">

<document>
	<header>
		<title>Morfa for developers</title>
	</header>
	<body>
		<p>
Here starts the documentation for making Morfa work for new languages. The goal is to make a demo of Morfa-C with 2-3 sentence matrices and the lemmas from Leksa. <a href="http://oahpa.no/davvi/"><strong>Here</strong></a> you can see how the North Sámi Morfa-S and Morfa-C work. Choose instruction language in the right margin before you choose the program. 
</p>
		<section>
			<title>Tasks for Morfa-C</title>
<p>Now starts the fun part of the work. Using the semantic classes in the lexicon you can make tasks for the pupils. They get a lemma in base form, and their task is to inflect it. What kind of tasks depends on the language. Your tools are the semantic sets of HUMAN nouns, HUMAN adjectives, PLACE nouns, MOVEMENT verbs, ACTIVITY verbs, FOOD nouns and DRINK nouns.</p>
<p>The semantic classes in the lexicon make it possible to make e.g. these matrices:</p>
<ul>
<li>- Where does the ADJ HUMAN live? HUMAN lives in ______ (PLACE).</li>
<li>- What does HUMAN drink? HUMAN drinks ______ (DRINK).</li>
<li>- What does HUMAN eat? HUMAN eats ______ (FOOD).</li>
<li>- Who are in PLACE? ______ (HUMAN) are.</li>
<li>- What HUMAN do today? Today HUMAN _______ (ACTIVITY-verb).</li>
<li>- What ADJ HUMAN did yesterday? Yesterday HUMAN _______ (ACTIVITY-verb).</li>
<li>- How are HUMAN? They are ______ (HUMAN-adj).</li>
<li>- Where to HUMAN MOVEMENT-verb? HUMAN MOVEMENT-verb _______ (to PLACE).</li>
</ul>
<p>You probably want to add more lemmas and semantic classes? But you should first look at the section about word forms.</p>
		</section>			
		
		<section>
			<title>Question-answer-pair matrix in xml-format</title>
<p>The matrix contains both variables and constants. This is an example of a question-answer-pair matrix in North Sami. The first text is "What SUBJ did yesterday?", the next one is "Yesterday SUBJ MAINV". The line with game="morfa" implies that the task for the pupil is to write the correct word form of the MAINV.</p>
		<source>
   &lt;q id="prtSg">
    &lt;qtype>PRT&lt;/qtype>
    &lt;question>
      &lt;text>Maid ADJ SUBJ barggai ikte&lt;/text> 
      &lt;element id="ADJ">
	&lt;sem class="HUMAN"/>
	&lt;grammar tag="A+Attr"/>
      &lt;/element>
     &lt;element id="SUBJ">
	&lt;sem class="HUMAN"/>
	&lt;grammar tag="N+Sg+Nom"/>
      &lt;/element>
    &lt;/question>
    &lt;answer> 
      &lt;text>Ikte SUBJ MAINV&lt;/text> 
      &lt;element game='morfa' id="MAINV" task="yes">
	&lt;grammar tag="V+Ind+Prt+Sg3"/>
	&lt;sem class="ACTIVITY"/>
      &lt;/element>
    &lt;/answer> 
  &lt;/q>	
  
 </source>

<p>This first matrix generate tasks like "What the old teacher did yesterday?" "bake" "Yesterday the teacher ____ " . As you see, the variable ADJ is just for giving variation. The qtype is PRT: to inflect verbs in past tense. It will be useful when you have made so many matrices that you will sort them as options for the pupil. But we will not use it in the demo. Every matix has an id to make it easier to remove them.</p><p> One example with inflecting adjectives in plural:</p>

		<source>
   &lt;q id="AdjPred">
    &lt;qtype>PRED&lt;/qtype>
    &lt;question>
      &lt;text>Makkárat SUBJ leat&lt;/text>
      &lt;element id="ADJ">
	&lt;sem class="HUMAN"/>
	&lt;grammar tag="A+Attr"/>
      &lt;/element>
     &lt;element id="SUBJ">
	&lt;sem class="HUMAN"/>
	&lt;grammar tag="N+Pl+Nom"/>
      &lt;/element>
    &lt;/question>
    &lt;answer> 
      &lt;text>Sii leat ADJ&lt;/text>
      &lt;element game='morfa' id="ADJ" task="yes">
	&lt;grammar tag="A+Pl+Nom"/>
	&lt;sem class="HUMAN"/>
      &lt;/element>
    &lt;/answer> 
  &lt;/q>		
  </source>
<p>The first text is "How are the SUBJ?", the next one is "They are ADJ". The line with game="morfa" implies that the task for the pupil is to write the correct word form of the ADJ. This matrix will generate tasks like "How are the girls?" "clever" "They are ______ (plural form in North Sami) ". </p><p> One example with inflecting nouns in illative:</p>
		<source>
  &lt;q id="nill">
    &lt;qtype>N-ILL&lt;/qtype>
    &lt;question>
      &lt;text>Gosa SUBJ MAINV&lt;/text> 
      &lt;element id="SUBJ">
	&lt;grammar pos="N+Sg+Nom"/>
	&lt;sem class="HUMAN"/>
      &lt;/element>
      &lt;element id="MAINV">
	&lt;grammar tag="V+Ind+Prs+Sg3"/>
	&lt;sem class="MOVEMENT"/>
      &lt;/element>
    &lt;/question>
    &lt;answer> 
      &lt;text>SUBJ MAINV N-ILL&lt;/text>
      &lt;element game='morfa' id="N-ILL" task="yes">
	&lt;grammar tag="N+Sg+Ill"/>
	&lt;sem class="PLACE"/>
      &lt;/element>
    &lt;/answer>
  &lt;/q>
	
  </source>
<p>The first text is "Where to SUBJ MAINV?", the next one is "SUBJ MAINV N-ILL". The line with game="morfa" implies that the task for the pupil is to write the correct word form of the N-ILL. This matrix will generate tasks like "Where to the girl runs?" "school" "The girl runs ______ (illative case in Sami) " . </p>

<p>For the demo we do it simply. E.g. we don't use pronouns in the answer, which in principle is easy, but then we have to take in account that in some languages there are genders. We have also an agreement fuction e.g. between SUBJ and MAINV which one could use.</p>

  <p>Save the matrices in a file with the language code, e.g. <code>questions.sme.xml</code></p>	


		</section>

		<section>
			<title>Word forms</title>
<p>The lexicon contains lemmas. The Morfa-C tasks need word forms. There are two ways of doing it - the best one is to generate the needed word forms automatically. If you can't do it for your language, then you have to write the word forms manually. The work depends on the matrices, there you see which word forms you need for each lemma, also the basis forms. The word forms have to be in this format (tab-separated): </p>
  <source> 
  wordformTABlemma+POS+.......
  
  bargat    bargat+V+Ind+Inf
  barggan   bargat+V+Ind+Prs+Sg1
  bargen    bargat+V+Ind+Prt+Sg1
  viessu    viessu+N+Sg+Nom
  viesut    viessu+N+Pl+Nom
  viesus    viessu+N+Sg+Loc
  boaris    boaris+A+Sg+Nom
  boarrásat boaris+A+Pl+N
  </source>	
  <p>Save them in a file with the language code, e.g. <code>wordforms.sme.txt</code></p>	
		</section>

		<section>
			<title>Morfa-S</title>
<p>Morfa-S is based on the file with word forms. You have to decide what options there should be, take a look at the North Sami Morfa-S. This will be a big work if you have many lemmas, and cannot generate the word forms automatically.</p> <p> Morfa-S offers help if the pupil wants to know how to make the word form. The help-information is generated based on the combination of the morphological tags and the task it self. This will be explained on the page "More".</p>

		</section>
		<p class="last_modified">Last changed: $Id: developermorfa.xml,v 1.6 2009/09/09
	lene Exp $
				</p>
	</body>
</document>