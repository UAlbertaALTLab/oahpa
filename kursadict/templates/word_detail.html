{% extends 'base.html' %}

{% block extra_css %}
<link href="{{url_for('static', filename='css/detail.css')}}" rel="stylesheet" />
{% endblock %}

{% block left %}
    {%- if result.analyses %}
        <strong>{{ result.input }} is a possible form of ... </strong>
        <dl>
        {% for form, pos, tag in result.analyses %}
            <dt><a href="{{ form|urlencode }}.html">{{ form }}</a></dt>
            <dd>{{ tag }}</dd>
        {%- endfor -%}
        </dl>
    {%- endif -%}
{% endblock %}

{% block placeholder %}
    {{ user_input }}
{% endblock %}

{% block content_right %}

    {% for lexeme in result.lexicon %}
    <div class="row">
        {% if lexeme.entries %}
            <div class="span">
            <p class="lead">{{ lexeme.input[0] }} ({{ lexeme.input[1] }}) </p>

            {% for tg in lexeme.entries.lookups %}
                <ul class="meanings">
                    {% for mg in tg.meaningGroups %}
                        <li>
                        {%- for txl in mg.translations -%}
                        {{ txl }}{%- if not loop.last %}, {% endif -%}
                        {%- endfor -%}
                        {%- if mg.examples -%}
                        <br />
                        <br />
                        <blockquote class="examples">
                        <dl>
                            {%- for from, to in mg.examples %}
                            <dt>{{ from }}</dt>
                            <dd>{{ to }}</dd>
                            {%- endfor %}
                        </dl>
                        </blockquote>
                        {% endif -%}
                        </li>
                    {% endfor %}
                </ul>
            {% endfor %}
            </div>

            <div class="span2">
                {% if lexeme.paradigms %}
                    <dl class="dl-horizontal">
                    {%- for lemma, tag, form in lexeme.paradigms -%}

                        {% if tag %}
                            <dt>{{ ' '.join(tag) }}</dt>
                        {% endif %}

                        {% if form %}
                        <dd>
                            {%- for f in form -%}{%- if loop.first %}{{ f }} {% if loop.length > 1 -%}<span class="label">+</span>{%- endif -%}{%- endif -%}{%- endfor -%}
                            <span class="extra_forms" id="extras">
                            {%- for f in form -%}
                            {%- if not loop.first %}{{ f }} {% endif -%}
                            {%- endfor -%}
                            </span>
                        </dd>
                        {% else %}
                            <dd>?</dd>
                        {% endif %}

                    {%- endfor -%}
                    </dl>
                {% endif %}
            </div>
        {% endif %}
    </div>
    {% endfor %}

{% endblock %}

